---
apiVersion: fleet.cattle.io/v1alpha1
kind: GitRepo
metadata:
  name: pillan
  namespace: fleet-default
spec:
  repo: https://github.com/lsst-it/k8s-cookbook
  branch: master
  keepResources: true
  paths:
    - fleet/lib/external-secrets
    - fleet/lib/external-secrets-conf
    - fleet/lib/kyverno
    - fleet/lib/kyverno-conf
    - fleet/lib/metallb
    - fleet/lib/metallb-conf
    - fleet/lib/metallb-demo
    - fleet/lib/multus
    - fleet/lib/multus-conf
    - fleet/lib/multus-demo
    - fleet/lib/rook-ceph
    - fleet/lib/rook-ceph-cluster
    - fleet/lib/rook-ceph-conf
    - fleet/lib/rook-ceph-demo
    # no cert-manager
    - fleet/lib/cert-manager-conf
  targets:
    - name: pillan
      clusterName: c-st7p2
  correctDrift:
    enabled: false  # XXX do not enable because of rook
