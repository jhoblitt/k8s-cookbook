---
apiVersion: fleet.cattle.io/v1alpha1
kind: GitRepo
metadata:
  name: ruka
  namespace: fleet-default
spec:
  repo: https://github.com/lsst-it/k8s-cookbook
  branch: master
  keepResources: true
  paths:
    - fleet/lib/metallb
    - fleet/lib/metallb-conf
    - fleet/lib/metallb-demo-lhn
    - fleet/lib/external-secrets
    - fleet/lib/external-secrets-conf
    - fleet/lib/cert-manager-crds
    - fleet/lib/cert-manager
    - fleet/lib/cert-manager-conf
    - fleet/lib/ingress-nginx
    - fleet/lib/kube-prometheus-stack
    - fleet/lib/kyverno
    - fleet/lib/kyverno-conf
    - fleet/lib/velero
    - fleet/lib/velero-conf
    - fleet/lib/multus
    - fleet/lib/multus-conf
    - fleet/lib/multus-demo-lhn
    - fleet/lib/rook-ceph
    - fleet/lib/rook-ceph-cluster
    - fleet/lib/rook-ceph-conf
    - fleet/lib/rook-ceph-demo
  targets:
    - name: ruka
      clusterName: ruka
  correctDrift:
    enabled: false  # XXX do not enable because of rook
